<?xml version="1.0"?>
<launch>
  <arg name="map_size_x_" value="30.0"/>
  <arg name="map_size_y_" value="30.0"/>
  <arg name="map_size_z_" value="3.0"/>

  <arg name="odometry_topic" value="/mavros/local_position/odom"/>
  <arg name="cloud_topic" value="/mid360_scan2"/>

  <arg name="max_vel"/>
  <arg name="max_acc"/>
  <arg name="planning_horizon"/>

  <include file="$(find ius_perception)/launch/test.launch">
  </include>
  
  <node name="ius_planner" pkg="ius_planner" type="ius_planner_exp_node" output="screen">
    <rosparam file="$(find ius_planner)/config/map_fence.yaml" command="load" />
    <rosparam file="$(find ius_planner)/config/pos_point.yaml" command="load" />
    <remap from="~trajectory" to="/ius_uav/trajectory"/>
    <remap from="/grid_map/odom" to="/mavros/local_position/odom"/>
    <remap from="/grid_map/lidar_cloud" to="/cloud_registered_body"/>
  </node>

  <include file="$(find uav_control)/launch/control.launch">
   <arg name="auto_offboard" value="true"/>
  </include>

  <include file="$(find px4_sim)/launch/sim.launch">
  </include>

  <include file="$(find ius_visualization)/launch/test.launch">
  </include>
  <!-- <node pkg="tf2_ros" type="static_transform_publisher" name="static_tf_publisher" args="0 0 0 0 0 0 world map"/>  -->
</launch>